import React, {useEffect, useState} from 'react';import {API_KEY, API_URL} from "../../config";import Preloader from "../preloader";import GoodsList from "../goods-list/GoodsList";import Cart from "../cart";function Main() {  const [goods, setGoods] = useState([])  const [loading, setLoading] = useState(true)  const [order, setOrder] = useState([])  const [isBasketShow, setBasketShow] = useState(false)  function addToBasket(item){    /// находим индекс каждого элемента    const itemIndex = order.findIndex(orderItem => orderItem.id === item.id)    // если такого элемента нет в order, получаем -1 и добавляем в order    if(itemIndex < 0){      const newItem = {        ...item,        quantity: 1      }      setOrder([...order, newItem])    } else { // если есть такой элемент, то просто добавляем quantity + 1      const newOrder = order.map((orderItem, index) => {        if(index === itemIndex){          return {            ...orderItem,            quantity: orderItem.quantity + 1          }        } else {          return orderItem;        }      })      setOrder(newOrder) // добавляем в стейт    }  }  function handleBasketShow(){    setBasketShow(!isBasketShow)  }  useEffect(function getGoods(){    fetch(API_URL, {      headers: { // устанавливаем header        'Authorization': API_KEY      }    }).then(response => response.json())      .then((data) => {        data.featured && setGoods(data.featured)        setLoading(false)      })  }, [])  return (    <main className='container content'>      <Cart handleBasketShow={handleBasketShow} quantity={order.length}/>      {loading ? <Preloader /> : <GoodsList addToBasket={addToBasket} goods={goods} />}    </main>  );};export default Main;